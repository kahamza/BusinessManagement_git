---
trigger: manual
---

## Security Rules | إرشادات الأمان المتقدمة

اتبع هذه الإرشادات لحماية البيانات والتطبيق من التهديدات الأمنية:

### مبادئ الأمان الأساسية
- استخدم HTTPS فقط لجميع الاتصالات
- طبق مبدأ أقل الصلاحيات (Principle of Least Privilege)
- نفذ التحقق من صحة البيانات على جميع المدخلات
- احفظ البيانات الحساسة بشكل آمن

### تشفير البيانات
- استخدم Android Keystore للمفاتيح السرية
- فعل التشفير للبيانات الحساسة في قاعدة البيانات
- استخدم encrypted shared preferences للبيانات المؤقتة
- نفذ secure random لإنشاء رموز الأمان

### المصادقة والتفويض
- استخدم JWT مع refresh tokens للمصادقة
- نفذ role-based access control (RBAC) بعناية
- احفظ كلمات المرور محمية بـ PBKDF2 أو bcrypt
- استخدم biometric authentication عند الإمكان

### حماية الشبكة
- نفذ certificate pinning للحماية من MITM attacks
- استخدم network security config للتحكم في الشهادات
- طبق rate limiting على مستوى التطبيق
- راقب الطلبات المشبوهة والمساعدات الآلية

### لتطبيق إدارة المحل التجاري:
- احفظ البيانات المالية مشفرة دائمًا
- نفذ فحص النزاهة للبيانات المالية الحساسة
- احفظ سجلات التدقيق لجميع العمليات المالية
- استخدم secure preferences لمعلومات البطاقات

### حماية الخصوصية
- طبق GDPR compliance للبيانات الشخصية
- احصل على موافقة صريحة لجمع البيانات
- قدم خيارات واضحة لإدارة الخصوصية
- نفذ ميزات حذف البيانات نهائيًا

### مراقبة الأمان
- سجل جميع محاولات الوصول المشبوهة
- نفذ نظام إشعارات للأنشطة الأمنية
- راقب استخدام وحدات الذاكرة والأداء
- أجرِ فحوصات دورية للثغرات الأمنية

### التعامل مع الثغرات
- احتفظ بقائمة محدثة للثغرات المعروفة (CVE)
- طبق التحديثات الأمنية فور توفرها
- اختبر التأثير الأمني قبل التحديثات الكبيرة
- لديك خطة استجابة للحوادث الأمنية

### أدوات الأمان الموصى بها
- SQLCipher لتشفير قاعدة البيانات
- BiometricPrompt للمصادقة البيومترية
- Security-SharedPreferences للتخزين الآمن
- Network Security Config لإعدادات الشبكة الآمنة